# 可変長引数

## 概要
可変長引数（Variadic Arguments）は、関数が異なる数の引数を受け取ることを可能にする機能です。C言語では、標準ライブラリの `<stdarg.h>` ヘッダを使用して可変長引数を実装します。

## 可変長引数の定義方法
可変長引数を使用する関数は、少なくとも1つの固定引数を持ち、その後に省略記号（`...`）を続けます。

```c
#include <stdarg.h>
#include <stdio.h>

void exampleFunction(int fixedArg, ...);
```

## 可変長引数の使用方法
可変長引数を使用するには、以下の手順を踏みます。

1. **`va_list` 型の変数を宣言**: 可変長引数を格納するための変数を宣言します。
2. **`va_start` マクロを使用**: 可変長引数の処理を開始します。
3. **`va_arg` マクロを使用**: 可変長引数から値を取得します。
4. **`va_end` マクロを使用**: 可変長引数の処理を終了します。

以下に、可変長引数を使用した関数の例を示します。

```c
#include <stdarg.h>
#include <stdio.h>

// 可変長引数を持つ関数の定義
void printNumbers(int count, ...) {
    va_list args;
    va_start(args, count);

    for (int i = 0; i < count; i++) {
        int num = va_arg(args, int);
        printf("%d ", num);
    }

    va_end(args);
    printf("\n");
}

int main() {
    printNumbers(3, 1, 2, 3);
    printNumbers(5, 10, 20, 30, 40, 50);
    return 0;
}
```

## 注意点
1. **型の一致**: `va_arg` マクロを使用する際には、引数の型を正しく指定する必要があります。型が一致しない場合、未定義の動作が発生する可能性があります。
2. **引数の数を管理**: 可変長引数の数を関数内で管理する必要があります。通常、最初の固定引数で引数の数を指定します。
3. **`va_end` の呼び出し**: `va_start` を呼び出した後は、必ず `va_end` を呼び出して可変長引数の処理を終了します。

## 課題

### 問題1: 可変長引数を使用した合計関数
以下の関数 `sum` を作成し、可変長引数を使用して複数の整数の合計を計算してください。
- 引数: `int count, ...`
- 戻り値: `int`
- 機能: `count` 個の整数の合計を計算して返す

### 問題2: 可変長引数を使用した平均関数
以下の関数 `average` を作成し、可変長引数を使用して複数の整数の平均を計算してください。
- 引数: `int count, ...`
- 戻り値: `double`
- 機能: `count` 個の整数の平均を計算して返す

## まとめ
可変長引数を使用することで、関数が異なる数の引数を受け取ることが可能になります。`<stdarg.h>` ヘッダを使用して、`va_list`、`va_start`、`va_arg`、`va_end` マクロを適切に使用することが重要です。可変長引数を使用する際には、引数の型と数を正しく管理することが求められます。